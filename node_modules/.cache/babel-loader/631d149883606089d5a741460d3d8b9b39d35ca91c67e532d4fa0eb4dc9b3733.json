{"ast":null,"code":"import { disposables as m } from '../../utils/disposables.js';\nimport { isIOS as f } from '../../utils/platform.js';\nfunction T() {\n  if (!f()) return {};\n  var l;\n  return {\n    before: function before() {\n      l = window.pageYOffset;\n    },\n    after: function after(_ref) {\n      var o = _ref.doc,\n        t = _ref.d,\n        s = _ref.meta;\n      function i(n) {\n        return s.containers.flatMap(function (e) {\n          return e();\n        }).some(function (e) {\n          return e.contains(n);\n        });\n      }\n      t.microTask(function () {\n        if (window.getComputedStyle(o.documentElement).scrollBehavior !== \"auto\") {\n          var e = m();\n          e.style(o.documentElement, \"scroll-behavior\", \"auto\"), t.add(function () {\n            return t.microTask(function () {\n              return e.dispose();\n            });\n          });\n        }\n        t.style(o.body, \"marginTop\", \"-\".concat(l, \"px\")), window.scrollTo(0, 0);\n        var n = null;\n        t.addEventListener(o, \"click\", function (e) {\n          if (e.target instanceof HTMLElement) try {\n            var r = e.target.closest(\"a\");\n            if (!r) return;\n            var _URL = new URL(r.href),\n              c = _URL.hash,\n              a = o.querySelector(c);\n            a && !i(a) && (n = a);\n          } catch (_unused) {}\n        }, !0), t.addEventListener(o, \"touchmove\", function (e) {\n          e.target instanceof HTMLElement && !i(e.target) && e.preventDefault();\n        }, {\n          passive: !1\n        }), t.add(function () {\n          window.scrollTo(0, window.pageYOffset + l), n && n.isConnected && (n.scrollIntoView({\n            block: \"nearest\"\n          }), n = null);\n        });\n      });\n    }\n  };\n}\nexport { T as handleIOSLocking };","map":{"version":3,"names":["disposables","m","isIOS","f","T","l","before","window","pageYOffset","after","_ref","o","doc","t","d","s","meta","i","n","containers","flatMap","e","some","contains","microTask","getComputedStyle","documentElement","scrollBehavior","style","add","dispose","body","concat","scrollTo","addEventListener","target","HTMLElement","r","closest","_URL","URL","href","c","hash","a","querySelector","_unused","preventDefault","passive","isConnected","scrollIntoView","block","handleIOSLocking"],"sources":["E:/geek/node_modules/@headlessui/react/dist/hooks/document-overflow/handle-ios-locking.js"],"sourcesContent":["import{disposables as m}from'../../utils/disposables.js';import{isIOS as f}from'../../utils/platform.js';function T(){if(!f())return{};let l;return{before(){l=window.pageYOffset},after({doc:o,d:t,meta:s}){function i(n){return s.containers.flatMap(e=>e()).some(e=>e.contains(n))}t.microTask(()=>{if(window.getComputedStyle(o.documentElement).scrollBehavior!==\"auto\"){let e=m();e.style(o.documentElement,\"scroll-behavior\",\"auto\"),t.add(()=>t.microTask(()=>e.dispose()))}t.style(o.body,\"marginTop\",`-${l}px`),window.scrollTo(0,0);let n=null;t.addEventListener(o,\"click\",e=>{if(e.target instanceof HTMLElement)try{let r=e.target.closest(\"a\");if(!r)return;let{hash:c}=new URL(r.href),a=o.querySelector(c);a&&!i(a)&&(n=a)}catch{}},!0),t.addEventListener(o,\"touchmove\",e=>{e.target instanceof HTMLElement&&!i(e.target)&&e.preventDefault()},{passive:!1}),t.add(()=>{window.scrollTo(0,window.pageYOffset+l),n&&n.isConnected&&(n.scrollIntoView({block:\"nearest\"}),n=null)})})}}}export{T as handleIOSLocking};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}